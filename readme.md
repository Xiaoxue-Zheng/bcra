# BCRA - Breast Cancer Risk Assesment in Young Women

## Database

### Configure Postgres for Local Development
Install postgres on your machine, check it is running, and create the database and user with the following commands:
```
psql -U postgres
create database bcra;
create user bcra with encrypted password 'bcra123';
grant all privileges on database bcra to bcra;
```

### Clearing the Database
```
psql -U postgres
drop database bcra;
create database bcra;
grant all privileges on database bcra to bcra;
\q
```

### Recreate Database
 * Clear the database (see above)
 * Copy .yo-rc.json and database-model.jdl to a new folder
 * `jhipster`
 * `jhipster import-jdl database-model.jdl`
 * copy to project: `/src/main/resources/config/liquibase/`

### Create Liquibase Changeset for Hibernate Changeset
 * Clear database
 * `mvnw` (creates liquibase DB)
 * Make hibernate changes
 * `mvnw compile`
 * `mvnw liquibase:diff`
 
 
## Application

The **application** project contains the back-end server, and the interface for all users except participants. It is generated by JHipster.

### Launch Local Build
Install packages: `npm install`

Build & run back-end: `mvnw`

Launch front-end: `npm start`

### Run Back-End Tests
`mvnw verify`

### Run Front-End Tests
`npm test`

### Build for Production
`mvnw -Pprod,war clean verify`

### Add New Entity to Model
`jhipster entity Question`

## Questionnaire

The **questionniare** project contains the front-end for participants. It is generated by vue-cli.

### Launch Local Build
Install packages: `npm install`

Launch front-end: `npm run serve`

### Build for Production

Build front-end: `npm run build`

This will place a **.war** file in the **dist** folder.


